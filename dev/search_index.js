var documenterSearchIndex = {"docs":
[{"location":"api/","page":"API","title":"API","text":"","category":"page"},{"location":"api/","page":"API","title":"API","text":"Modules = [MieScattering]","category":"page"},{"location":"api/#MieScattering.mie","page":"API","title":"MieScattering.mie","text":"mie(m, x)\n\nCalculate the efficiencies for a sphere where m or x may be vectors.\n\nParameters\n\nm: the complex index of refraction of the sphere\nx: the size parameter of the sphere\n\nOutput\n\nqext: the total extinction efficiency\nqsca: the scattering efficiency\nqback: the backscatter efficiency\ng: the average cosine of the scattering phase function\n\n\n\n\n\n","category":"function"},{"location":"api/#MieScattering.mie_phase_matrix","page":"API","title":"MieScattering.mie_phase_matrix","text":"mie_phase_matrix(m, x, μ; norm=:albedo)\n\nCalculate the phase scattering matrix.\n\nThe units are sr^(-1.0). The phase scattering matrix is computed from the scattering amplitude functions, according to equations 5.2.105-6 in K. N. Liou (2002) - An Introduction to Atmospheric Radiation, Second Edition.\n\nParameters\n\nm: the complex index of refraction of the sphere\nx: the size parameter of the sphere\nμ: the angles, cos(theta), at which to calculate the phase scattering matrix\n\nOutput\n\np: The phase scattering matrix [sr^(-1.0)]\n\n\n\n\n\n","category":"function"},{"location":"","page":"Introduction","title":"Introduction","text":"CurrentModule = MieScattering","category":"page"},{"location":"#MieScattering.jl","page":"Introduction","title":"MieScattering.jl","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"The package MieScattering.jl is a pure-Julia counterpart to the miepython package developed by Scott Prahl. This package is a 1:1 port and therefore copies the syntax, parts of the documentation and the Mie scattering related assumptions. Checkout the documentation of miepython to find out more.","category":"page"},{"location":"#Switch-from-miepython-to-MieScattering.jl","page":"Introduction","title":"Switch from miepython to MieScattering.jl","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"The syntax is mostly the same. Just convert your calls from Python to Julia and you should get the same numerical results.","category":"page"},{"location":"#Script-examples","page":"Introduction","title":"Script examples","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"The following shows how to convert the four miepython example scripts to Julia.","category":"page"},{"location":"#Simple-Dielectric","page":"Introduction","title":"Simple Dielectric","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"\"\"\"\nPlot the extinction efficiency as a function of particle size.\n\nThis is a comparision of total extinction for non-absorbing and absorbing\nspheres.\n\"\"\"\n\nusing MieScattering\nusing CairoMakie\n\nx = LinRange(0.1, 100, 300)\n\n# mie() will automatically try to do the right thing\nqext, qsca, qback, g = mie(1.5, x)\n\nfig = Figure()\nax =\n    fig[1, 1] = Axis(\n        fig,\n        xlabel = \"Size parameter (-)\",\n        ylabel = \"Qext\",\n        title = \"Comparison of extinction for absorbing and non-absorbing spheres\",\n    )\nlines!(x, qext, color = :red, label = \"1.5\")\n\nqext, qsca, qback, g = mie(1.5 - 0.1 * im, x)\nlines!(x, qext, color = :blue, label = \"1.5-0.1j\")\n\naxislegend()\n\nfig","category":"page"},{"location":"#Glass-Spheres","page":"Introduction","title":"Glass Spheres","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"\"\"\"\nPlot the scattering efficiency for 4 micron glass spheres.\n\nThis graph shows scattering as a function of wavelength.\n\"\"\"\n\nusing MieScattering\nusing CairoMakie\n\nradius = 2 # in microns\nλ0 = LinRange(0.2, 1.2, 200)\nx = 2π * radius ./ λ0\n\n# from https://refractiveindex.info/?shelf=glass&book=BK7&page=SCHOTT\nm2 = @. 1 + 1.03961212 / (1 - 0.00600069867 / λ0^2)\nm2 += @. 0.231792344 / (1 - 0.0200179144 / λ0^2)\nm2 += @. 1.01046945 / (1 - 103.560653 / λ0^2)\nm = .√(m2)\nqext, qsca, qback, g = mie(m, x)\n\nfig = Figure()\nax =\n    fig[1, 1] = Axis(\n        fig,\n        xlabel = \"Wavelength [nm]\",\n        ylabel = \"Scattering efficiency\",\n        title = \"BK7 glass spheres 4 micron diameter\",\n    )\nlines!(λ0 * 1000, qsca)\n\nfig","category":"page"},{"location":"#Water-Droplets","page":"Introduction","title":"Water Droplets","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"\"\"\"\nPlot the scattering cross section for 1 micron water droplets.\n\nThe plot shows the cross section as a function of wavelength.\n\"\"\"\n\nusing MieScattering\nusing CairoMakie\n\nnum = 100\nradius = 0.5 # in microns\nλ0 = LinRange(0.2, 1.2, 200)\nx = 2π * radius ./ λ0\n\n# from https://refractiveindex.info/?shelf=main&book=H2O&page=Daimon - 24.0C\nm2 = @. 1.0 + 5.666959820E-1 / (1.0 - 5.084151894E-3 / λ0^2)\nm2 += @. 1.731900098E-1 / (1.0 - 1.818488474E-2 / λ0^2)\nm2 += @. 2.095951857E-2 / (1.0 - 2.625439472E-2 / λ0^2)\nm2 += @. 1.125228406E-1 / (1.0 - 1.073842352E1 / λ0^2)\nm = .√(m2)\nqext, qsca, qback, g = mie(m, x)\n\nfig = Figure()\nax =\n    fig[1, 1] = Axis(\n        fig,\n        xlabel = \"Wavelength [nm]\",\n        ylabel = \"Scattering Cross Section (µm²)\",\n        title = \"Water Droplets (1 µm diameter)\",\n    )\nlines!(λ0 * 1000, qsca)\n\nfig","category":"page"},{"location":"#Small-Gold-Spheres","page":"Introduction","title":"Small Gold Spheres","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"\"\"\"\nPlot the scattering cross section for 100nm gold spheres.\nThe resulting graph is as a function of wavelength.\n\"\"\"\n\nusing MieScattering\nusing CairoMakie\n\n# from https://refractiveindex.info/?shelf = main&book = Au&page = Johnson\n# wavelength in microns\nref_lam = [ 0.1879, 0.1916, 0.1953, 0.1993, 0.2033, 0.2073, 0.2119, 0.2164,\n            0.2214, 0.2262, 0.2313, 0.2371, 0.2426, 0.2490, 0.2551, 0.2616,\n            0.2689, 0.2761, 0.2844, 0.2924, 0.3009, 0.3107, 0.3204, 0.3315,\n            0.3425, 0.3542, 0.3679, 0.3815, 0.3974, 0.4133, 0.4305, 0.4509,\n            0.4714, 0.4959, 0.5209, 0.5486, 0.5821, 0.6168, 0.6595, 0.7045,\n            0.7560, 0.8211, 0.8920, 0.9840, 1.0880, 1.2160, 1.3930, 1.6100, 1.9370]\n\nref_n = [   1.28, 1.32, 1.34, 1.33, 1.33, 1.30, 1.30, 1.30, 1.30, 1.31, 1.30,\n            1.32, 1.32, 1.33, 1.33, 1.35, 1.38, 1.43, 1.47, 1.49, 1.53, 1.53,\n            1.54, 1.48, 1.48, 1.50, 1.48, 1.46, 1.47, 1.46, 1.45, 1.38, 1.31,\n            1.04, 0.62, 0.43, 0.29, 0.21, 0.14, 0.13, 0.14, 0.16, 0.17, 0.22,\n            0.27, 0.35, 0.43, 0.56, 0.92]\n\nref_k = [   1.188, 1.203, 1.226, 1.251, 1.277, 1.304, 1.350, 1.387, 1.427,\n            1.460, 1.497, 1.536, 1.577, 1.631, 1.688, 1.749, 1.803, 1.847,\n            1.869, 1.878, 1.889, 1.893, 1.898, 1.883, 1.871, 1.866, 1.895,\n            1.933, 1.952, 1.958, 1.948, 1.914, 1.849, 1.833, 2.081, 2.455,\n            2.863, 3.272, 3.697, 4.103, 4.542, 5.083, 5.663, 6.350, 7.150,\n            8.145, 9.519, 11.21, 13.78]\n\nradius = 0.1 # in microns\nm = ref_n - im * ref_k\nx = 2π * radius ./ ref_lam\ncross_section_area = π * radius ^ 2\nmu_a = 4 * π * ref_k ./ ref_lam    # nm\nqext, qsca, qback, g = mie(m, x)\n\nsca_cross_section = qsca * cross_section_area\nabs_cross_section = (qext - qsca) * cross_section_area\n\nfig = Figure()\n\nax = fig[1,1] = Axis(fig, title=\"Gold Spheres 200nm diameter\")\nhidexdecorations!(ax)\nscatter!(ref_lam * 1000, ref_n, color=:blue, marker=:circle)\nscatter!(ref_lam * 1000, -ref_k, color=:red, marker=:rect)\ntext!(700, 1; text=\"real refractive index\", color=:blue)\ntext!(1100, -6; text=\"imaginary refractive index\", color=:red)\nylims!(-14,5)\n\nax = fig[2,1] = Axis(fig, ylabel=\"Absorption Depth [nm]\")\nscatter!(ref_lam * 1000, 1000 ./ mu_a, color=:blue, marker=:circle)\n\nax = fig[3,1] = Axis(fig, xlabel=\"Wavelength [nm]\", ylabel=\"Cross Section [µm²]\")\nscatter!(ref_lam * 1000, abs_cross_section, color=:blue, marker=:circle)\nscatter!(ref_lam * 1000, sca_cross_section, color=:red, marker=:rect)\ntext!(700, 0.01; text=\"absorption\", color=:blue)\ntext!(750, 0.1; text=\"scattering\", color=:red)\n\nfig","category":"page"}]
}
